# GitHub Actions Secrets Configuration

This document lists all the required secrets for GitHub Actions deployment to paragoni.space.

## Required Secrets and Their Sources

### Database Configuration
```bash
DB_HOST=db
# Source: Use 'db' for Docker Compose setup
# Current value: db

DB_NAME=movie_rating_db
# Source: Your PostgreSQL database name
# Current value: movie_rating_db

DB_PASSWORD=<your-strong-password>
# Source: Generate using the script
# Current value: Need to generate

DB_PORT=5432
# Source: Standard PostgreSQL port
# Current value: 5432

DB_USER=movie_rating_user
# Source: Your PostgreSQL username
# Current value: movie_rating_user
```

### Django Superuser Configuration
```bash
DJANGO_SUPERUSER_EMAIL=admin@paragoni.space
# Source: Your admin email
# Current value: admin@paragoni.space

DJANGO_SUPERUSER_PASSWORD=<your-strong-password>
# Source: Generate using the script
# Current value: Need to generate

DJANGO_SUPERUSER_USERNAME=admin
# Source: Your choice
# Current value: admin
```

### Docker Hub Configuration
```bash
DOCKERHUB_TOKEN=<your-existing-token>
# Source: Reuse from previous project
# Current value: Available from previous project

DOCKERHUB_USERNAME=mariavch
# Source: Docker Hub username
# Current value: mariavch
```

### Monitoring Configuration
```bash
GRAFANA_ADMIN_PASSWORD=<your-strong-password>
# Source: Generate using the script
# Current value: Need to generate
```

### Server Configuration
```bash
SERVER_HOST=paragoni.space
# Source: Your server domain
# Current value: paragoni.space

SERVER_SSH_KEY=<your-private-key>
# Source: Generate using: ssh-keygen -t rsa -b 4096 -C "your_email@paragoni.space"
# Current value: Need to generate

SERVER_USERNAME=alien
# Source: Your server username
# Current value: alien
```

### Django Configuration
```bash
SECRET_KEY=<your-django-secret-key>
# Source: Generate using the script
# Current value: Need to generate
```

## Steps to Set Up

1. Generate secure secrets:
```bash
cd movie_rating_platform
./scripts/generate_secrets.py
```

2. Generate SSH key for deployment:
```bash
ssh-keygen -t rsa -b 4096 -C "your_email@paragoni.space" -f ~/.ssh/paragoni_deploy
```

3. Docker Hub setup (✓ Already done):
   - ✓ Username available from previous project
   - ✓ Token available from previous project
   - Just copy these values from your previous project's GitHub secrets

4. Add public key to server:
```bash
cat ~/.ssh/paragoni_deploy.pub >> ~/.ssh/authorized_keys
```

5. Add all secrets to GitHub:
   - Go to your repository
   - Settings → Secrets and variables → Actions
   - Add each secret listed above
   - Copy DOCKERHUB_USERNAME and DOCKERHUB_TOKEN from your previous project

## Values You Need to Provide
1. ✓ DOCKERHUB_USERNAME - Available from previous project
2. ✓ DOCKERHUB_TOKEN - Available from previous project
3. Server SSH key - Generate using ssh-keygen

## Values Generated by Script
1. DB_PASSWORD
2. DJANGO_SUPERUSER_PASSWORD
3. GRAFANA_ADMIN_PASSWORD
4. SECRET_KEY

## Known Values
1. DB_HOST=db
2. DB_NAME=movie_rating_db
3. DB_PORT=5432
4. DB_USER=movie_rating_user
5. DJANGO_SUPERUSER_EMAIL=admin@paragoni.space
6. DJANGO_SUPERUSER_USERNAME=admin
7. SERVER_HOST=paragoni.space
8. SERVER_USERNAME=alien

## Security Notes
1. Never commit any of these secrets to version control
2. Rotate DOCKERHUB_TOKEN and other credentials regularly
3. Use strong, unique passwords for each service
4. Keep SSH keys secure and never share them
5. Consider using a secrets management service for production